<?xml version="1.0" encoding="US-ASCII"?>
<!-- This template is for creating an Internet Draft using xml2rfc,
     which is available here: http://xml.resource.org. -->
<!DOCTYPE rfc SYSTEM "rfc2629.dtd" [
<!-- One method to get references from the online citation libraries.
     There has to be one entity for each item to be referenced.
     An alternate method (rfc include) is described in the references. -->

<!ENTITY RFC1918 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.1918.xml">
<!ENTITY RFC2080 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2080.xml">
<!ENTITY RFC2119 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml">
<!ENTITY RFC2827 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2827.xml">
<!ENTITY RFC2474 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2474.xml">
<!ENTITY RFC3810 SYSTEM "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3810.xml">

<!ENTITY RFC5942 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5942.xml">
<!ENTITY RFC4861 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4861.xml">
<!ENTITY RFC4862 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4862.xml">
<!ENTITY RFC3315 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3315.xml">
<!ENTITY RFC3633 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3633.xml">
<!ENTITY RFC3646 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3646.xml">
<!ENTITY RFC4075 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4075.xml">
<!ENTITY RFC4193 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4193.xml">
<!ENTITY RFC4294 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4294.xml">
<!ENTITY RFC4541 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4541.xml">
<!ENTITY RFC4605 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4605.xml">
<!ENTITY RFC2464 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.2464.xml">
<!ENTITY RFC5072 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5072.xml">
<!ENTITY RFC5571 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5571.xml">
<!ENTITY RFC5969 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.5969.xml">
<!ENTITY I-D.vyncke-advanced-ipv6-security SYSTEM
     "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.vyncke-advanced-ipv6-security.xml">
<!ENTITY I-D.bagnulo-behave-dns64 SYSTEM 
      "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.bagnulo-behave-dns64.xml">
<!ENTITY I-D.ietf-v6ops-ipv6-cpe-router SYSTEM
"http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-v6ops-ipv6-cpe-router.xml">
<!ENTITY I-D.ietf-softwire-dual-stack-lite SYSTEM
"http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-softwire-dual-stack-lite.xml">
<!ENTITY I-D.ietf-softwire-ds-lite-tunnel-option SYSTEM
"http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-softwire-ds-lite-tunnel-option">


<!ENTITY RFC3736 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.3736.xml">
<!ENTITY RFC4779 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4779.xml">
<!ENTITY RFC4864 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4864.xml">
<!ENTITY RFC4242 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4242.xml">
<!ENTITY RFC4632 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4632.xml">
<!ENTITY RFC4443 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.4443.xml">
<!ENTITY RFC1122 SYSTEM
         "http://xml.resource.org/public/rfc/bibxml/reference.RFC.1122.xml">
<!ENTITY I-D.ietf-behave-v6v4-framework SYSTEM
     "http://xml.resource.org/public/rfc/bibxml3/reference.I-D.ietf-behave-v6v4-framework.xml">
]>
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>
<!-- used by XSLT processors -->
<!-- For a complete list and description of processing instructions (PIs),
     please see http://xml.resource.org/authoring/README.html. -->
<!-- Below are generally applicable Processing Instructions (PIs) that most I-Ds might want to use.
     (Here they are set differently than their defaults in xml2rfc v1.32) -->
<?rfc strict="yes" ?>
<!-- give errors regarding ID-nits and DTD validation -->
<!-- control the table of contents (ToC) -->
<?rfc toc="yes"?>
<!-- generate a ToC -->
<?rfc tocdepth="4"?>
<!-- the number of levels of subsections in ToC. default: 3 -->
<!-- control references -->
<?rfc symrefs="yes"?>
<!-- use symbolic references tags, i.e, [RFC2119] instead of [1] -->
<?rfc sortrefs="yes" ?>
<!-- sort the reference entries alphabetically -->
<!-- control vertical white space
     (using these PIs as follows is recommended by the RFC Editor) -->
<?rfc compact="yes" ?>
<!-- do not start each main section on a new page -->
<?rfc subcompact="no" ?>
<!-- keep one blank line between list items -->
<!-- end of list of popular I-D processing instructions -->
<rfc category="info" docName="draft-ietf-v6ops-ipv6-cpe-router-bis-00" ipr="trust200902">
  <!-- category values: std, bcp, info, exp, and historic ipr values:
     full3667, noModification3667, noDerivatives3667 you can add the
     attributes updates="NNNN" and obsoletes="NNNN" they will automatically be
     output with "(if approved)" -->

  <!-- ***** FRONT MATTER ***** -->

  <front>
    <!-- The abbreviated title is used in the page header - it is only
         necessary if the full title is longer than 39 characters -->

    <title abbrev="IPv6 CE router Advanced requirements">Advanced Requirements for IPv6
    Customer Edge Routers</title>

    <!-- add 'role="editor"' below for the editors if appropriate -->
    <!-- Another author who claims to be an editor -->
    <author initials="H." surname="Singh" fullname="Hemant Singh">
      <organization>Cisco Systems, Inc.</organization>
      <address>
	<postal>
	  <street>1414 Massachusetts Ave.</street>
	  <city>Boxborough</city> <region>MA</region>
	  <code>01719</code>
	  <country>USA</country>
	</postal>

	<phone>+1 978 936 1622</phone>
	<email>shemant@cisco.com</email>
	<uri>http://www.cisco.com/</uri>
      </address>
    </author>

    <author initials="W." surname="Beebee" fullname="Wes Beebee">
      <organization>Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street>1414 Massachusetts Ave.</street>
          <city>Boxborough</city> <region>MA</region>
          <code>01719</code>
          <country>USA</country>
        </postal>
        <phone>+1 978 936 2030</phone>
        <email>wbeebee@cisco.com</email>
        <uri>http://www.cisco.com/</uri>
      </address>
    </author>
    <author initials='C.D.' surname="Donley" fullname='Chris Donley'>
      <organization>CableLabs </organization>
      <address>
	<postal>
	  <street>858 Coal Creek Circle</street>
	  <city>Louisville</city> <region>CO</region>
	  <code>80027</code>
	  <country>USA</country>
	</postal>
	<email>c.donley@cablelabs.com</email>
      </address>
    </author>

    <author initials='B.' surname="Stark" fullname='Barbara Stark'>
      <organization>ATT</organization>
      <address>
	<postal>
	  <street>725 W Peachtree St</street>
	  <city>Atlanta</city> <region>GA</region>
	  <code>30308</code>
	  <country>USA</country>
	</postal>
	<email>barbara.stark@att.com</email>
      </address>
    </author>

    <author fullname="Ole Troan" initials="O." role="editor" surname="Troan">
      <organization>Cisco Systems, Inc.</organization>
      <address>
        <postal>
          <street>Veversmauet 8</street>
          <code></code>
          <city>N-5017 BERGEN</city>
          <region></region>
          <country>Norway</country>
        </postal>
        <email>ot@cisco.com</email>
        <!-- uri and facsimile elements may also be added -->
      </address>
    </author>

    <date month="March" year="2011" />

    <!-- If the month and year are both specified and are the current ones,
         xml2rfc will fill in the current day for you. If only the current
         year is specified, xml2rfc will fill in the current day and month for
         you. If the year is not the current one, it is necessary to specify
         at least a month (xml2rfc assumes day="1" if not specified for the
         purpose of calculating the expiry date).  With drafts it is normally
         sufficient to specify just the year. -->

    <!-- Meta-data Declarations -->

    <area>General</area>

    <workgroup>Internet Engineering Task Force</workgroup>

    <!-- WG name at the upperleft corner of the doc, IETF is fine for
         individual submissions.  If this element is not present, the default
         is "Network Working Group", which is used by the RFC Editor as a nod
         to the history of the IETF. -->

    <keyword></keyword>

    <!-- Keywords will be incorporated into HTML output files in a meta tag
         but they have no effect on text or nroff output. If you submit your
         draft to the RFC Editor, the keywords will be used for the search
         engine. -->

    <abstract>
      <t>This document continues the work undertaken by the IPv6 CE Router Phase I work in the IETF v6ops Working
         Group. Advanced requirements or Phase II work is covered in this document.</t>
    </abstract>
  </front>

  <middle>
    <section title="Introduction">
      <t>This document defines Advanced IPv6 features for a residential
      or small office router referred to as an IPv6 CE
      router. Typically these routers also support IPv4. The IPv6 End-user Network Architecture
      for such a router is described in 
      <xref target="I-D.ietf-v6ops-ipv6-cpe-router"></xref>.
      This version of the document includes the requirements for Advanced features. 
      </t>

      
      <section title="Requirements Language">
        <t>The key words "MUST", "MUST NOT", "REQUIRED", "SHALL", "SHALL NOT",
        "SHOULD", "SHOULD NOT", "RECOMMENDED", "MAY", and "OPTIONAL" in this
        document are to be interpreted as described in <xref
        target="RFC2119">RFC 2119</xref>.</t>
      </section>
    </section>


    <section title="Terminology">
      <t><list hangIndent="26" style="hanging">
          <t hangText="End-user Network">one or more links attached to the
          IPv6 CE router that connect IPv6 hosts.</t>

          <t hangText="IPv6 Customer Edge router">a node intended for home or
          small office use which forwards IPv6 packets not explicitly
          addressed to itself. The IPv6 CE router connects the end-user
          network to a service provider network.</t>

          <t hangText="IPv6 host">any device implementing an IPv6 stack
          receiving IPv6 connectivity through the IPv6 CE router</t>

          <t hangText="LAN interface">an IPv6 CE router's attachment
          to a link in the end-user network. Examples are Ethernets
          (simple or bridged), 802.11 wireless or other LAN
          technologies. An IPv6 CE router may have one or more network
          layer LAN Interfaces.</t>

          <t hangText="Service Provider">an entity that provides
          access to the Internet. In this document, a Service Provider
          specifically offers Internet access using IPv6, and may also
          offer IPv4 Internet access. The Service Provider can provide
          such access over a variety of different transport methods
          such as DSL, cable, wireless, and others.</t>

          <t hangText="WAN interface">an IPv6 CE router's attachment to a link
          used to provide connectivity to the Service Provider network;
          example link technologies include Ethernets (simple or bridged), PPP
          links, Frame Relay, or ATM networks as well as Internet-layer
          (or higher-layer) "tunnels", such as tunnels over IPv4 or IPv6
          itself.</t>

      </list></t>
    </section>

    <section title="Conceptual Configuration Variables">
      <t>The CE Router maintains such a list of conceptual optional configuration variables.</t>
      <t><list style="numbers">
        <t>Enable an IGP on the LAN.</t>
      </list></t>
    </section>


    <section title="Architecture">
        <t>This document extends the architecture described in <xref target="I-D.ietf-v6ops-ipv6-cpe-router"/>
           to cover a strictly larger set of operational scenarios.  In particular, QoS, multicast, DNS, 
           routed network in the home, transition technologies, and conceptual configuration variables.
           This document also extends the model described in <xref target="I-D.ietf-v6ops-ipv6-cpe-router"/> 
           to a two router topology where the two routers are connected back-to-back (the LAN of one router 
           is connected to the WAN of the other router).  This topology is depicted below:
        

<figure align="center">

 <artwork align="center"><![CDATA[

                     +-------+-------+                   \
                     |   Service     |                    \
                     |   Provider    |                     | Service
                     |    Router     |                     | Provider
                     +-------+-------+                     | network
                             |                             /
                             | Customer                   /
                             | Internet connection       /
                             |
                      +------+--------+                  \
                      |     IPv6      |                   \
                      | Customer Edge |                    \
                      |    Router     |                    |
                      +----+-+-----+--+                    |
          Network A        | |     |   Network B           |
    ----+-------------+----+ |   --+--+-------------+---   |
        |             |    | |        |             |      |
   +----+-----+ +-----+----+ |   +----+-----+ +-----+----+ |
   |IPv6 Host | |IPv6 Host | |   | IPv6 Host| |IPv6 Host | |
   |          | |          | |   |          | |          | |
   +----------+ +-----+----+ |   +----------+ +----------+ |
                             |                             |
                      +------+--------+                    | End-User
                      |     IPv6      |                    | networks
                      |   Interior    |                    |
                      |    Router     |                    |
                      +---+-------+-+-+                    |
          Network C       |       |   Network D            |
    ----+-------------+---+-    --+---+-------------+---   |
        |             |               |             |      |
   +----+-----+ +-----+----+     +----+-----+ +-----+----+ |
   |IPv6 Host | |IPv6 Host |     | IPv6 Host| |IPv6 Host | |
   |          | |          |     |          | |          | /
   +----------+ +-----+----+     +----------+ +----------+/

]]></artwork>
            <postamble>Figure 1.</postamble>

</figure></t>

        <t>For DNS, the operational expectation is that the end-user would be able to access home hosts
           from the home using DNS names instead of more cumbersome IPv6 addresses.  Note that this is 
           distinct from the requirement to access home hosts from outside the home.
	</t>
        <t>End-users are expected to be able to receive multicast video in the home without requiring the CE router 
           to include the cost of supporting full multicast routing protocols.  
        </t>   
     </section>

    <section title="Advanced Features and Feature Requirements">
        <t>The IPv6 CE router will need to support connectivity to one
        or more access network architectures. This document describes
        an IPv6 CE router that is not specific to any particular
        architecture or Service Provider, and supports all commonly
        used architectures.</t>

        <section title="DNS">
           <t><list style='format D-%d:'>
            <t>For local DNS queries for configuration, the CE Router MAY include a DNS server to handle local 
               queries.  Non-local queries can be forwarded unchanged to a DNS server specified in the DNS server 
               DHCPv6 option.  The CE Router MAY also include DNS64 functionality which is specified in 
               <xref target="I-D.bagnulo-behave-dns64"></xref>.</t>
            <t>The local DNS server MAY also handle renumbering from the Service Provider provided prefix for
               local names used exclusively inside the home (the local AAAA and PTR records are updated).  This capability 
               provides connectivity using local DNS names in the home after a Service Provider renumbering.
               A CE Router MAY add local DNS entries based on dynamic requests from the LAN segment(s).  The 
               protocol to carry such requests from hosts to the CE Router is yet to be described.
            </t>
           </list></t>
         </section>


         <section title="Multicast Behavior">
             <t>This section is only applicable to a CE Router with at least one LAN interface. A host in the home 
                is expected to receive multicast video.  Note the CE Router resides at edge
                of the home and the Service Provider, and the CE Router has at least one WAN connection for multiple LAN 
                connections. In such a multiple LAN to a WAN toplogy at the CE Router edge, it is 
                not necessary to run a multicast routing protocol and thus MLD Proxy as specified in 
                <xref target="RFC4605"/> can be used. The CE Router discovers the hosts via a MLDv2 Router 
                implementation on a LAN interface.  A WAN interface of the CE Router interacts with the Service 
                Provider router by sending MLD Reports and replying to MLD queries for multicast Group memberships 
                for hosts in the home.  
             </t>

	     <t>The CE router SHOULD implement MLD Proxy as specified in <xref target="RFC4605"/>. For the
                routed topology shown in Figure 1, each router implements a MLD Proxy.  If the CE
                router implements MLD Proxy, the requirements on the CE Router for MLD Proxy are listed 
                below. 
             </t>
          <t>WAN requirements, MLD Proxy:
	     <list style='format WMLD-%d:'>
	       <t>Consistent with <xref target="RFC4605"/>, the CE router 
                  MUST NOT implement the
                  router portion of MLDv2 for the WAN interface.</t>	  
            </list></t>

          <t>LAN requirements, MLD Proxy:
             <list style='format LMMLD-%d:'>        
              <t>The CPE Router MUST follow the model described for MLD Proxy in <xref target="RFC4605"/> to implement 
                 multicast.</t>
              <t>Consistent with <xref target="RFC4605"/>, the LAN interfaces on the CPE router MUST NOT implement an  
                 MLDv2 Multicast Listener.</t>
               </list></t>
          <t>LAN requirements:
             <list style='format LM-%d:'>        
              <t>If the CE Router has bridging configured between the LAN interfaces, then the LAN interfaces MUST 
                 support snooping of MLD <xref target="RFC3810"/> messages.   
              </t>
               </list></t>

         </section>

         <section title="ND Proxy">
           <t>LAN requirements:
	      <list style='format LNDP-%d:'>
	        <t>If the CE Router has only one /64 prefix to be used across multiple LAN interfaces and
                 the CE Router supports any two LAN interfaces that cannot bridge data between them
                 because the two interfaces have disparate MAC layers, then the CE Router MUST support 
                 Proxying Neighbor Advertisements as specified in Section 7.2.8 of <xref target="RFC4861"/>.  
                 If any two LAN interfaces support bridging between 
                 the interfaces, then Proxying Neighbor Advertisements is not necessary between the two interfaces. 
                 Legacy 3GPP networks have the following requirements:
                 <list style="numbers">
                   <t>No DHCPv6 prefix is delegated to the CE Router.</t>
                   <t>Only one /64 is available on the WAN link.</t>
                   <t>The link types between the WAN interface and LAN interface(s) are disparate and, 
                      therefore, can't be bridged.</t>
                   <t>No NAT66 is to be used.</t>
                   <t>Each LAN interface needs global connectivity.</t>
                   <t>Uses SLAAC to configure LAN interface addresses.</t>
               </list>
                 For these legacy 3GPP networks, the CPE Router MUST support ND Proxy between the WAN and LAN 
                 interface(s).  If a CE Router will never be deployed in an environment with these characteristics, 
                 then ND Proxy is not necessary.</t> 
	   </list></t>
         </section>

<section title="Routed network behavior">
<t>CPE Router Behavior in a routed network:
      <list style='format R-%d:'>
<t>One example of the CPE Router use in the home is shown below.  The home has a broadband modem combined with
a CPE Router, all in one device.  The LAN interface  of the device is connected to another standalone CPE Router
that supports a wireless access point. To support such a network, this document recommends using prefix delegation 
of the prefix obtained either via IA_PD from WAN interface or a ULA from the LAN interface.  The network interface of 
the downstream router MAY obtain an IA_PD via stateful DHCPv6.  If the CPE router supports the routed network through 
a vendor specific automatic prefix delegation, the CPE router MUST support a DHCPv6 server or DHCPv6 relay agent.  
Further, if an IA_PD is used, the Service Provider or user MUST allocate an IA_PD or ULA prefix short enough to be 
delegated and subsequently used for SLAAC.  Therefore, a prefix length shorter than /64 is needed. The CPE Router MAY 
support and IGP in the home network.

<figure align="center">

            <artwork align="center"><![CDATA[

        /-------+------------\    /------------+-----\
SP <--+ Modem | CPE Router    +--+ CPE Router | WAP + --> PC
        \-------+------------/    \------------+-----/
 
WAP = Wireless Access Point
 


]]></artwork>
            <postamble>Figure 2.</postamble>

</figure></t>
 
</list></t>
         </section>


         <section title="Transition Technologies Support">
            <section title="Dual-Stack(DS)-Lite">
               <t>Even as users migrate from IPv4 to IPv6 addressing, a significant percentage of Internet resources 
               and content will remain accessible only through IPv4. Also, many end-user devices will only support 
               IPv4. As a consequence, Service Providers require mechanisms to allow customers to continue to access 
               content and resources using IPv4 even after the last IPv4 allocations have been fully depleted. 
               One technology that can be used for IPv4 address extension is DS-Lite.
               </t>

               <t>DS-Lite enables a Service Provider to share IPv4 addresses among multiple customers by 
                  combining two well-known technologies: IP in IP (IPv4-in-IPv6) tunneling and Carrier Grade NAT. 
                  More specifically, Dual-Stack-Lite encapsulates IPv4 traffic inside an IPv6 tunnel at the IPv6 
                  CE Router and sends it to a Service Provider Address Family Translation Router (AFTR). Configuration 
                  of the IPv6 CE Router to support IPv4 LAN traffic is outside the scope of this document.
               </t>
               <t>The IPv6 CE Router SHOULD implement DS-Lite functionality as specified 
                  in <xref target="I-D.ietf-softwire-dual-stack-lite"></xref>. 
               </t>

               <t>WAN requirements:
	       <list style='format DLW-%d:'>
                <t>To facilitate IPv4 extension over an IPv6 network, if the CE Router supports DS-Lite functionality,
                   the CE Router WAN interface MUST implement a B4 Interface as specified in 
                   <xref target="I-D.ietf-softwire-dual-stack-lite"></xref>.
                </t>	  
                <t>If the IPv6 CE Router implements DS-Lite functionality, the CE Router MUST support using a 
                   DS-Lite DHCPv6 option <xref target="I-D.ietf-softwire-ds-lite-tunnel-option"></xref> to 
                   configure the DS-Lite tunnel. The IPv6 CE Router MAY use other mechanisms to configure DS-Lite 
                   parameters. Such mechanisms are outside the scope of this document.
                </t>
                <t>IPv6 CE Router MUST NOT perform IPv4 Network Address Translation (NAT) on IPv4 traffic 
                   encapsulated using DS-Lite.  
                </t>
                <t>If the IPv6 CE Router is configured with a public IPv4 address on its WAN interface, where 
                   public IPv4 address is defined as any address which is not in the private IP address space 
                   specified in <xref target="RFC1918"/> and also not in the reserved IP address space specified 
                   in <xref target="I-D.ietf-softwire-dual-stack-lite"></xref>, then the IPv6 CE Router MUST 
                   disable the DS-Lite B4 element.
                </t>



                <t>If DS-Lite is operational on the IPv6 CE Router, multicast data MUST NOT be sent on any 
                   DS-Lite tunnel.
               </t>
	       </list>
               </t>
           </section>

           <section title="6rd">
            <t>The IPv6 CE Router can be used to offer IPv6 service to a LAN, even when the WAN access network 
               only supports IPv4.  One technology that supports IPv6 service over an IPv4 network is IPv6 Rapid
               Deployment (6rd).  6rd encapsulates IPv6 traffic from the end user LAN inside IPv4 at the IPv6 CE 
               Router and sends it to a Service Provider Border Relay (BR). The IPv6 CE Router calculates a 
               6rd delegated IPv6 prefix during 6rd configuration, and sub-delegates the 6rd delegated prefix to 
               devices in the LAN. 
            </t>
            <t>The IPv6 CE Router SHOULD implement 6rd functionality as specified 
                  in <xref target="RFC5969"></xref>. 
               </t>

            <t>6rd requirements:
 
	       <list style='format 6RD-%d:'>
                <t>If the IPv6 CE Router implements 6rd functionality, the CE Router WAN interface MUST support at 
                   least one 6rd Virtual Interface and 6rd CE functionality as specified in <xref target="RFC5969"/>.
                </t>	
                <t>If the IPv6 CE Router implements 6rd CE functionality, it MUST support using the 6rd
                   DHCPv4 Option (212) for 6rd configuration. The IPv6 CE Router MAY use other 
                   mechanisms to configure 6rd parameters. Such mechanisms are outside the scope of this 
                   document.
                </t>
                <t>If 6rd is operational on the IPv6 CE Router, multicast data MUST NOT be sent on any 
                   6rd tunnel.
               </t>  
	       </list>
           </t>
           </section>

           <section title="Transition Technologies Coexistence">
                 <t>Run the following four in parallel to provision CPE router connectivity to the Service Provider:
                 </t>
                 <t><list style="numbers">
                    <t>Initiate IPv4 address acquisition.
                    </t>
                    <t>Initiate IPv6 address acquisition as specified by <xref target="I-D.ietf-v6ops-ipv6-cpe-router"/>.
                    </t>
                    <t>If 6rd is provisioned, initiate 6rd.
                    </t>
                    <t>If DS-Lite is provisioned, initiate DS-Lite.
                    </t>

                 </list></t>
            
                <t>The default route for IPv6 through the native physical interface should have preference over 
                   the 6rd tunnel interface.  The default route for IPv4 through the native physical interface should have
                   preference over the DS-Lite tunnel interface.
                </t>
           </section>
         </section>

         <section title="Quality Of Service">
           <t><list style='format Q-%d:'>
            <t>The CPE router MAY support differentiated services <xref target="RFC2474"></xref>.</t>
           </list></t>
        </section>

        <section title="Unicast Data Forwarding">
         <t>The null route introduced by the WPD-6 requirement in <xref target="I-D.ietf-v6ops-ipv6-cpe-router"></xref> has
            lower precedence than other routes except for the default route.  
         </t>
        </section>

    </section>      

    <section title="Security Considerations">
        <t>None.
        </t>
      </section>

    <section title="Acknowledgements">
      <t>Thanks to the following people (in alphabetical order) for their
      guidance and feedback:</t>

      <t>Mikael Abrahamsson, Merete Asak, Scott Beuker, Mohamed
      Boucadair, Rex Bullinger, Brian Carpenter, Remi Denis-Courmont,
      Gert Doering, Alain Durand, Katsunori Fukuoka, Tony Hain, Thomas
      Herbst, Kevin Johns, Stephen Kramer, Victor Kuarsingh,
      Francois-Xavier Le Bail, Chad Mikkelson, David Miles, Shin Miyakawa,
      Jean-Francois Mule, Michael Newbery, Carlos Pignataro, John
      Pomeroy, Antonio Querubin, Teemu Savolainen, Matt Schmitt,
      Hiroki Sato, Mark Townsley, Bernie Volz, James Woodyatt, Dan
      Wing and Cor Zwart</t>

      <t>This draft is based in part on CableLabs' eRouter specification.  The
      authors wish to acknowledge the additional contributors from the eRouter
      team:</t>

      <t>Ben Bekele, Amol Bhagwat, Ralph Brown, Eduardo Cardona, Margo Dolas,
      Toerless Eckert, Doc Evans, Roger Fish, Michelle Kuska, Diego Mazzola,
      John McQueen, Harsh Parandekar, Michael Patrick, Saifur Rahman, Lakshmi
      Raman, Ryan Ross, Ron da Silva, Madhu Sudan, Dan Torbet and Greg
      White.</t>

    </section>

    <section title="Contributors">
      <t>The following people have participated as co-authors or provided
      substantial contributions to this document: Ralph Droms, Kirk Erichsen,
      Fred Baker, Jason Weil, Lee Howard, Jean-Francois Tremblay, Yiu Lee,
      John Jason Brzozowski and Heather Kirksey.</t>
    </section>

    <section title="IANA Considerations">
      <t>This memo includes no request to IANA.</t>
    </section>

 </middle>
  <!--  *****BACK MATTER ***** -->

  <back>
    <!-- References split into informative and normative -->

    <!-- There are 2 ways to insert reference entries from the citation
     libraries: 1. define an ENTITY at the top, and use "ampersand
     character"RFC2629; here (as shown) 2. simply use a PI "less than
     character"?rfc include="reference.RFC.2119.xml"?> here (for I-Ds:
     include="reference.I-D.narten-iana-considerations-rfc2434bis.xml")

     Both are cited textually in the same manner: by using xref elements.  If
     you use the PI option, xml2rfc will, by default, try to find included
     files in the same directory as the including file. You can also define
     the XML_LIBRARY environment variable with a value containing a set of
     directories to search.  These can be either in the local filing system or
     remote ones accessed by http (http://domain/dir/... ).-->

    <references title="Normative References">
      <!--?rfc include="http://xml.resource.org/public/rfc/bibxml/reference.RFC.2119.xml"?-->
      &RFC1122;
      &RFC1918;
      &RFC2080;
      &RFC2119;
      &RFC2464;      
      &RFC2474;
      &RFC2827;
      &RFC3736;
      &RFC3810;
      &RFC4861;
      &RFC4862;
      &RFC3315;
      &RFC3633;
      &RFC3646;
      &RFC4075;
      &RFC4193;
      &RFC4294;
      &RFC4242;
      &RFC4443;
      &RFC4541;
      &RFC4605; 
      &RFC4632;
      &RFC4779;
      &RFC4864;      
      &RFC5942;
      &I-D.vyncke-advanced-ipv6-security;
      &I-D.bagnulo-behave-dns64;
      &I-D.ietf-v6ops-ipv6-cpe-router;
      &I-D.ietf-softwire-dual-stack-lite;
      &I-D.ietf-softwire-ds-lite-tunnel-option;
      &RFC5072;
      &RFC5571;
      &RFC5969;
    </references>

    <references title="Informative References">
      &I-D.ietf-behave-v6v4-framework;
      <reference anchor="UPnP-IGD"
		 target="http://www.upnp.org/standardizeddcps/igd.asp">
	<front>
	  <title>Universal Plug and Play (UPnP) Internet Gateway Device
	  (IGD)</title>

	  <author fullname="UPnP Forum" surname="UPnP Forum">
	    <organization></organization>
	  </author>
	  <date month="November" year="2001" />
	</front>
      </reference>
    </references>

    
  </back>
</rfc>
